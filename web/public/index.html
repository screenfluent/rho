<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Rho Web UI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/styles/github-dark.min.css"
    />
    <link rel="stylesheet" href="/css/style.css" />
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/highlight.js@11.9.0/lib/common.min.js"></script>
    <script src="/js/app.js" defer></script>
    <script src="/js/chat.js" defer></script>
    <script src="/js/files.js" defer></script>
    <script src="/js/tasks.js" defer></script>
    <script src="https://unpkg.com/alpinejs@3.13.5/dist/cdn.min.js" defer></script>
  </head>
  <body>
    <div class="app" x-data="rhoApp()">
      <nav class="nav">
        <div class="nav-inner">
          <div class="nav-seg nav-logo">rho</div>
          <div class="nav-seg nav-title">web ui</div>
          <div class="nav-tabs" role="tablist" aria-label="Rho views">
            <button
              class="nav-tab"
              :class="{ active: view === 'chat' }"
              @click="setView('chat')"
              type="button"
              role="tab"
              :aria-selected="view === 'chat'"
            >
              Chat
            </button>
            <button
              class="nav-tab"
              :class="{ active: view === 'files' }"
              @click="setView('files')"
              type="button"
              role="tab"
              :aria-selected="view === 'files'"
            >
              Files
            </button>
            <button
              class="nav-tab"
              :class="{ active: view === 'tasks' }"
              @click="setView('tasks')"
              type="button"
              role="tab"
              :aria-selected="view === 'tasks'"
            >
              Tasks
            </button>
          </div>
        </div>
      </nav>

      <main class="main">
        <section class="view chat-view" x-show="view === 'chat'" x-cloak role="tabpanel">
          <div class="view-header">// chat</div>
          <div class="view-title">Session viewer</div>
          <div class="view-body" x-data="rhoChat()" x-init="init()">
            <div class="chat-layout">
              <!-- Mobile toggle for sessions -->
              <button
                class="mobile-panel-toggle"
                type="button"
                @click="toggleSessionsPanel()"
                :aria-expanded="showSessionsPanel"
              >
                <span class="mobile-panel-toggle-label">
                  <span x-text="activeSession ? (activeSession.name || 'Session') : 'Sessions'"></span>
                  <span class="mobile-panel-toggle-count" x-text="sessions.length + ' session' + (sessions.length === 1 ? '' : 's')"></span>
                </span>
                <span class="mobile-panel-toggle-arrow">&#x25BC;</span>
              </button>
              <aside class="chat-sessions" :class="{ collapsed: !showSessionsPanel }">
                <div class="chat-section-title">Sessions</div>
                <div class="chat-section-meta chat-loading-inline" x-show="isLoadingSessions">
                  <span class="loading-spinner-sm"></span>
                  <span>Loading...</span>
                </div>
                <div class="chat-section-meta chat-error" x-show="error" x-text="error"></div>
                <div class="chat-list">
                  <template x-for="session in sessions" :key="session.id">
                    <button
                      class="chat-session"
                      :class="{ active: session.id === activeSessionId }"
                      type="button"
                      @click="selectSession(session.id)"
                    >
                      <div class="chat-session-title" x-text="session.name || session.firstPrompt || session.id.substring(0, 8)"></div>
                      <div class="chat-session-id" x-text="session.id.substring(0, 8)"></div>
                      <div class="chat-session-meta">
                        <span x-text="formatTimestamp(session.timestamp)"></span>
                        <span x-text="messageCountLabel(session)"></span>
                        <span
                          class="chat-session-badge fork"
                          x-show="sessionForkBadge(session)"
                          x-text="sessionForkBadge(session)"
                          :title="sessionForkTitle(session)"
                        ></span>
                      </div>
                    </button>
                  </template>
                  <div class="chat-empty-state" x-show="!isLoadingSessions && sessions.length === 0">
                    <span class="empty-icon">&#x1F4C1;</span>
                    <span>No sessions yet</span>
                    <span class="empty-hint">Sessions appear here when you start using Rho CLI</span>
                  </div>
                </div>
              </aside>

              <section class="chat-thread">
                <div class="chat-thread-header">
                  <div>
                    <div class="chat-thread-title" x-text="activeSession ? sessionLabel(activeSession) : 'Select a session'"></div>
                    <div class="chat-thread-meta" x-show="activeSession" x-text="messageCountLabel(activeSession)"></div>
                  </div>
                  <div class="chat-thread-status">
                    <span class="chat-live-badge" x-show="isForkActive()">‚óè LIVE</span>
                    <span class="chat-readonly-badge" x-show="!isForkActive() && activeSession">READ-ONLY</span>
                  </div>
                  <div class="chat-thread-actions">
                    <button
                      class="btn btn-ghost"
                      type="button"
                      @click="forkFromLatest()"
                      :disabled="!activeSession || !hasForkPoints() || isForking"
                    >
                      <span x-show="!isForking">Fork from latest</span>
                      <span x-show="isForking">Forking...</span>
                    </button>
                  </div>
                </div>

                <!-- Reconnection Banner -->
                <div class="reconnect-banner" x-show="showReconnectBanner" x-cloak>
                  <span class="reconnect-icon">&#x26A0;</span>
                  <span>Connection lost. Reconnecting...</span>
                  <button class="btn btn-ghost btn-sm" type="button" @click="manualReconnect()">
                    Retry now
                  </button>
                </div>

                <div class="chat-thread-body" x-ref="thread" @scroll="handleThreadScroll()">
                  <div class="chat-loading" x-show="isLoadingSession">
                    <span class="loading-spinner"></span>
                    <span>Loading session...</span>
                  </div>
                  <div class="chat-empty" x-show="!isLoadingSession && activeSession && !hasMessages()">
                    <span class="empty-icon">&#x1F4AC;</span>
                    <span>No messages yet. Start a conversation by forking this session.</span>
                  </div>
                  <div class="chat-empty" x-show="!activeSession && !isLoadingSession">
                    <span class="empty-icon">&#x1F4C2;</span>
                    <span>Select a session from the sidebar to view messages.</span>
                  </div>

                  <!-- Typing indicator during streaming -->
                  <div class="chat-typing" x-show="isStreaming" x-cloak>
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                  </div>

                  <template x-for="message in renderedMessages" :key="message.id">
                    <article class="chat-message" :class="message.role">
                      <div class="chat-message-meta">
                        <span class="chat-message-role" x-text="message.roleLabel"></span>
                        <div class="chat-message-meta-right">
                          <button
                            class="chat-fork-button"
                            type="button"
                            x-show="message.role === 'user' && canForkMessage(message)"
                            @click="forkFromEntry(message.id)"
                            :title="messageForkPreview(message)"
                          >
                            Fork from here
                          </button>
                          <span class="chat-message-time" x-text="message.timestamp"></span>
                        </div>
                      </div>
                      <div class="chat-message-body">
                        <template x-for="part in message.parts" :key="part.key">
                          <div>
                            <template x-if="part.type === 'text' && part.render === 'html'">
                              <div class="chat-text" x-html="part.content"></div>
                            </template>
                            <template x-if="part.type === 'text' && part.render === 'text'">
                              <div class="chat-text" x-text="part.content"></div>
                            </template>
                            <template x-if="part.type === 'thinking'">
                              <div class="chat-block thinking" x-data="{ open: false }">
                                <button class="chat-block-toggle" type="button" @click="open = !open">
                                  <span class="thinking-icon">üí≠</span>
                                  Thinking
                                  <span class="tool-chevron" x-text="open ? '‚ñæ' : '‚ñ∏'"></span>
                                </button>
                                <div class="thinking-preview" x-show="!open" x-text="part.preview"></div>
                                <div class="chat-block-body" x-show="open" x-html="part.content"></div>
                              </div>
                            </template>
                            <template x-if="part.type === 'tool_call'">
                              <div class="chat-block tool" x-data="{ open: false }">
                                <button class="chat-block-toggle" type="button" @click="open = !open">
                                  <span class="tool-status-icon" :class="part.status" x-text="part.status === 'running' ? '‚ü≥' : part.status === 'error' ? '‚úó' : '‚úì'"></span>
                                  <span class="tool-name" x-text="part.name"></span>
                                  <span class="tool-args-hint" x-text="part.argsSummary"></span>
                                  <span class="tool-duration" x-show="part.duration" x-text="part.duration"></span>
                                  <span class="tool-chevron" x-text="open ? '‚ñæ' : '‚ñ∏'"></span>
                                </button>
                                <div class="tool-preview" x-show="!open && part.outputPreview" x-text="part.outputPreview"></div>
                                <div class="chat-block-body" x-show="open">
                                  <div class="chat-block-label">args</div>
                                  <pre><code x-text="part.args"></code></pre>
                                  <div class="chat-block-label" x-show="part.output">output</div>
                                  <pre x-show="part.output"><code x-text="part.output"></code></pre>
                                </div>
                              </div>
                            </template>
                            <template x-if="part.type === 'bash'">
                              <div class="chat-block bash">
                                <div class="chat-block-label">bash</div>
                                <pre class="bash-command"><code x-text="part.command"></code></pre>
                                <pre class="bash-output" x-show="part.output"><code x-text="part.output"></code></pre>
                              </div>
                            </template>
                            <template x-if="part.type === 'compaction'">
                              <div class="chat-banner compaction">
                                Context compacted ¬∑ <span x-text="part.summary"></span>
                              </div>
                            </template>
                            <template x-if="part.type === 'summary'">
                              <div class="chat-banner summary">
                                Summary ¬∑ <span x-text="part.summary"></span>
                              </div>
                            </template>
                            <template x-if="part.type === 'retry'">
                              <div class="chat-banner retry">
                                Retry ¬∑ <span x-text="part.summary"></span>
                              </div>
                            </template>
                            <template x-if="part.type === 'error'">
                              <div class="chat-banner error" x-text="part.text"></div>
                            </template>
                          </div>
                        </template>
                      </div>
                      <div class="chat-usage" x-show="message.usageLine" x-text="message.usageLine"></div>
                    </article>
                  </template>
                </div>

                <div class="chat-controls" x-show="isForkActive()">
                  <div class="chat-controls-left">
                    <div class="chat-control-group">
                      <label class="chat-control-label">Model</label>
                      <select
                        class="chat-control-select"
                        @change="setModel(availableModels.find(m => modelDropdownLabel(m) === $event.target.value))"
                        :disabled="!canSwitchModel()"
                      >
                        <template x-for="model in availableModels" :key="modelDropdownLabel(model)">
                          <option
                            :value="modelDropdownLabel(model)"
                            :selected="isCurrentModel(model)"
                            x-text="modelDropdownLabel(model)"
                          ></option>
                        </template>
                      </select>
                    </div>
                    <button
                      class="btn btn-ghost chat-control-btn"
                      type="button"
                      @click="cycleThinkingLevel()"
                      :disabled="!canChangeThinking()"
                      :title="`Thinking level: ${thinkingLevelLabel()}`"
                    >
                      Thinking: <span x-text="thinkingLevelLabel()"></span>
                    </button>
                  </div>
                  <div class="chat-controls-right">
                    <button
                      class="btn btn-danger chat-control-btn"
                      type="button"
                      @click="abort()"
                      :disabled="!canAbort()"
                      x-show="isStreaming"
                    >
                      Abort
                    </button>
                  </div>
                </div>

                <!-- Extension widget (above input) -->
                <div class="chat-widget" x-show="hasWidget()" x-cloak>
                  <div class="chat-widget-content" x-html="widgetContent()"></div>
                  <button class="chat-widget-close" type="button" @click="extensionWidget = null">&times;</button>
                </div>

                <form class="chat-composer" @submit.prevent="handlePromptSubmit()" x-show="isForkActive()">
                  <textarea
                    class="chat-composer-input"
                    x-ref="composerInput"
                    x-model="promptText"
                    :placeholder="inputPlaceholder()"
                    rows="2"
                    :disabled="isSendingPrompt || isForking"
                    @keydown="handleComposerKeydown($event)"
                    @input="handleComposerInput($event)"
                  ></textarea>
                  <div class="chat-composer-actions">
                    <button
                      class="btn btn-ghost"
                      type="button"
                      @click="sendFollowUp()"
                      :disabled="!promptText.trim() || !isStreaming"
                      x-show="isStreaming"
                      title="Queue as follow-up (sent after current response)"
                    >
                      Follow-up
                    </button>
                    <button class="btn" type="submit" :disabled="!promptText.trim() || isSendingPrompt || isForking">
                      <span x-text="submitButtonLabel()"></span>
                    </button>
                  </div>
                  <div class="chat-composer-hints" x-show="isForkActive()">
                    Enter to send ¬∑ Shift+Enter for newline
                  </div>
                </form>

                <!-- Extension UI Dialog Overlay -->
                <div class="ext-dialog-overlay" x-show="extensionDialog" x-cloak @click.self="dismissDialog(null)">
                  <!-- Select Dialog -->
                  <template x-if="extensionDialog?.type === 'select'">
                    <div class="ext-dialog">
                      <div class="ext-dialog-header">
                        <div class="ext-dialog-title" x-text="extensionDialog.title"></div>
                        <button class="ext-dialog-close" type="button" @click="dismissDialog(null)">&times;</button>
                      </div>
                      <div class="ext-dialog-description" x-show="extensionDialog.description" x-text="extensionDialog.description"></div>
                      <div class="ext-dialog-options">
                        <template x-for="option in extensionDialog.options" :key="option.value">
                          <button class="ext-dialog-option" type="button" @click="selectDialogOption(option)">
                            <span class="ext-dialog-option-label" x-text="option.label"></span>
                            <span class="ext-dialog-option-desc" x-show="option.description" x-text="option.description"></span>
                          </button>
                        </template>
                      </div>
                    </div>
                  </template>

                  <!-- Confirm Dialog -->
                  <template x-if="extensionDialog?.type === 'confirm'">
                    <div class="ext-dialog">
                      <div class="ext-dialog-header">
                        <div class="ext-dialog-title" x-text="extensionDialog.title"></div>
                        <button class="ext-dialog-close" type="button" @click="dismissDialog(false)">&times;</button>
                      </div>
                      <div class="ext-dialog-description" x-show="extensionDialog.description" x-text="extensionDialog.description"></div>
                      <div class="ext-dialog-actions">
                        <button class="btn btn-ghost" type="button" @click="confirmDialogNo()" x-text="extensionDialog.cancelLabel"></button>
                        <button class="btn" type="button" @click="confirmDialogYes()" x-text="extensionDialog.confirmLabel"></button>
                      </div>
                    </div>
                  </template>

                  <!-- Input Dialog -->
                  <template x-if="extensionDialog?.type === 'input'">
                    <div class="ext-dialog">
                      <div class="ext-dialog-header">
                        <div class="ext-dialog-title" x-text="extensionDialog.title"></div>
                        <button class="ext-dialog-close" type="button" @click="dismissDialog(null)">&times;</button>
                      </div>
                      <div class="ext-dialog-description" x-show="extensionDialog.description" x-text="extensionDialog.description"></div>
                      <form class="ext-dialog-form" @submit.prevent="submitInputDialog()">
                        <input
                          class="ext-dialog-input"
                          type="text"
                          x-model="extensionDialog.inputValue"
                          :placeholder="extensionDialog.placeholder"
                          autofocus
                        />
                        <div class="ext-dialog-actions">
                          <button class="btn btn-ghost" type="button" @click="dismissDialog(null)">Cancel</button>
                          <button class="btn" type="submit">Submit</button>
                        </div>
                      </form>
                    </div>
                  </template>

                  <!-- Editor Dialog -->
                  <template x-if="extensionDialog?.type === 'editor'">
                    <div class="ext-dialog ext-dialog-wide">
                      <div class="ext-dialog-header">
                        <div class="ext-dialog-title" x-text="extensionDialog.title"></div>
                        <button class="ext-dialog-close" type="button" @click="dismissDialog(null)">&times;</button>
                      </div>
                      <div class="ext-dialog-description" x-show="extensionDialog.description" x-text="extensionDialog.description"></div>
                      <form class="ext-dialog-form" @submit.prevent="submitEditorDialog()">
                        <textarea
                          class="ext-dialog-editor"
                          x-model="extensionDialog.editorContent"
                          rows="12"
                          autofocus
                        ></textarea>
                        <div class="ext-dialog-actions">
                          <button class="btn btn-ghost" type="button" @click="dismissDialog(null)">Cancel</button>
                          <button class="btn" type="submit">Save</button>
                        </div>
                      </form>
                    </div>
                  </template>
                </div>

                <!-- Toast Notifications -->
                <div class="toast-container" x-show="toasts.length > 0" x-cloak>
                  <template x-for="toast in toasts" :key="toast.id">
                    <div class="toast" :class="`toast-${toast.level}`">
                      <span class="toast-icon" x-text="toast.style.icon"></span>
                      <span class="toast-message" x-text="toast.message"></span>
                      <button class="toast-close" type="button" @click="removeToast(toast.id)">&times;</button>
                    </div>
                  </template>
                </div>
              </section>
            </div>
          </div>
        </section>

        <section class="view files-view" x-show="view === 'files'" x-cloak role="tabpanel">
          <div class="view-header">// files</div>
          <div class="view-title">State files</div>
          <div class="view-body" x-data="rhoFiles()" x-init="init()">
            <div class="files-layout">
              <!-- Mobile toggle for files -->
              <button
                class="mobile-panel-toggle"
                type="button"
                @click="toggleFilesPanel()"
                :aria-expanded="showFilesPanel"
              >
                <span class="mobile-panel-toggle-label">
                  <span x-text="activeFile ? activeFile.name : 'Files'"></span>
                  <span class="mobile-panel-toggle-count" x-text="files.length + ' file' + (files.length === 1 ? '' : 's')"></span>
                </span>
                <span class="mobile-panel-toggle-arrow">&#x25BC;</span>
              </button>
              <aside class="files-panel" :class="{ collapsed: !showFilesPanel }">
                <div class="files-panel-header">
                  <div class="files-section-title">Files</div>
                  <button class="btn btn-ghost" type="button" @click="loadFiles()">Refresh</button>
                </div>
                <div class="files-section-meta" x-show="isLoadingFiles">Loading files...</div>
                <div class="files-section-meta files-error" x-show="error" x-text="error"></div>
                <div class="files-list">
                  <template x-for="file in files" :key="file.path">
                    <button
                      class="file-item"
                      :class="{ active: file.path === activeFilePath, disabled: file.isDirectory === true }"
                      type="button"
                      @click="selectFile(file)"
                      :disabled="file.isDirectory === true"
                    >
                      <div class="file-item-main">
                        <div class="file-name" x-text="file.name"></div>
                        <div class="file-meta">
                          <span class="file-badge" :class="`cat-${file.category}`" x-text="file.category"></span>
                          <span class="file-kind" x-show="file.isDirectory">dir</span>
                        </div>
                      </div>
                      <div class="file-time" x-text="formatTimestamp(file.lastModified)"></div>
                    </button>
                  </template>
                  <div class="files-empty" x-show="!isLoadingFiles && files.length === 0">
                    No files found.
                  </div>
                </div>
              </aside>

              <section class="files-editor">
                <div class="files-editor-header">
                  <div>
                    <div class="files-editor-title" x-text="activeFile ? activeFile.name : 'Select a file'"></div>
                    <div class="files-editor-path" x-show="activeFile" x-text="activeFile?.path"></div>
                  </div>
                  <div class="files-editor-actions">
                    <div class="files-editor-status" :class="{ saved: saveStatus === 'saved', error: saveStatus === 'error', warn: conflict }" x-text="statusMessage()"></div>
                    <button
                      class="btn"
                      type="button"
                      @click="saveFile()"
                      :disabled="!activeFile || activeFile.isDirectory || !dirty || isSaving"
                    >
                      Save
                    </button>
                  </div>
                </div>

                <div class="files-alert" x-show="conflict">
                  External update detected. Reload to see the latest changes.
                  <button class="btn btn-ghost" type="button" @click="applyExternalUpdate()">Reload</button>
                  <button class="btn btn-ghost" type="button" @click="dismissConflict()">Dismiss</button>
                </div>

                <textarea
                  class="files-textarea"
                  x-model="content"
                  @input="handleInput"
                  :readonly="!activeFile || activeFile.isDirectory"
                  placeholder="Select a file to view its contents."
                ></textarea>
              </section>
            </div>
          </div>
        </section>

        <section class="view tasks-view" x-show="view === 'tasks'" x-cloak role="tabpanel">
          <div class="view-header">// tasks</div>
          <div class="view-title">Checklist</div>
          <div class="view-body" x-data="rhoTasks()" x-init="init()">
            <div class="tasks-layout">
              <section class="tasks-panel">
                <div class="tasks-panel-header">
                  <div>
                    <div class="tasks-section-title">Tasks</div>
                    <div class="tasks-section-meta" x-show="isLoading">Loading tasks...</div>
                    <div class="tasks-section-meta tasks-error" x-show="error" x-text="error"></div>
                  </div>
                  <button class="btn btn-ghost" type="button" @click="loadTasks()">Refresh</button>
                </div>

                <div class="tasks-loading" x-show="isLoading">
                  <span class="loading-spinner"></span>
                  <span>Loading tasks...</span>
                </div>

                <div class="tasks-tabs" role="tablist" aria-label="Task filters" x-show="!isLoading">
                  <button
                    class="tasks-tab"
                    :class="{ active: filter === 'all' }"
                    type="button"
                    @click="setFilter('all')"
                  >
                    All <span class="tasks-count" x-text="tasks.length"></span>
                  </button>
                  <button
                    class="tasks-tab"
                    :class="{ active: filter === 'pending' }"
                    type="button"
                    @click="setFilter('pending')"
                  >
                    Pending <span class="tasks-count" x-text="pendingCount()"></span>
                  </button>
                  <button
                    class="tasks-tab"
                    :class="{ active: filter === 'done' }"
                    type="button"
                    @click="setFilter('done')"
                  >
                    Done <span class="tasks-count" x-text="doneCount()"></span>
                  </button>
                </div>

                <div class="tasks-list" x-show="!isLoading">
                  <template x-for="task in filteredTasks()" :key="task.id">
                    <div class="task-item" :class="{ done: task.status === 'done' }">
                      <label class="task-check">
                        <input
                          type="checkbox"
                          :checked="task.status === 'done'"
                          @change="toggleTask(task)"
                        />
                      </label>
                      <div class="task-body">
                        <div class="task-title" x-text="task.description"></div>
                        <div class="task-meta">
                          <span class="task-priority" :class="`priority-${task.priority}`" x-text="task.priority"></span>
                          <span class="task-date" x-show="task.due">
                            due <span x-text="task.due"></span>
                          </span>
                          <span class="task-date">
                            created <span x-text="formatDate(task.created)"></span>
                          </span>
                        </div>
                        <div class="task-tags" x-show="task.tags && task.tags.length">
                          <template x-for="tag in task.tags" :key="tag">
                            <span class="task-tag" x-text="`#${tag}`"></span>
                          </template>
                        </div>
                      </div>
                      <button class="task-delete" type="button" @click="removeTask(task)">Delete</button>
                    </div>
                  </template>
                  <div class="tasks-empty-state" x-show="tasks.length === 0 && !isLoading">
                    <span class="empty-icon">&#x2705;</span>
                    <span>No tasks</span>
                    <span class="empty-hint">Add a task using the form or the CLI</span>
                  </div>
                  <div class="tasks-empty" x-show="tasks.length > 0 && filteredTasks().length === 0 && !isLoading">
                    No tasks match this filter.
                  </div>
                </div>
              </section>

              <form class="tasks-form" @submit.prevent="addTask()">
                <div class="tasks-form-title">Add task</div>
                <label class="tasks-field">
                  <span>Description</span>
                  <input type="text" x-model="newDescription" placeholder="Describe the task" />
                </label>
                <label class="tasks-field">
                  <span>Priority</span>
                  <select x-model="newPriority">
                    <option value="urgent">Urgent</option>
                    <option value="high">High</option>
                    <option value="normal">Normal</option>
                    <option value="low">Low</option>
                  </select>
                </label>
                <button class="btn" type="submit" :disabled="isSubmitting || !newDescription.trim()">
                  Add task
                </button>
                <div class="tasks-form-hint">
                  Tasks are shared with the `tasks` CLI tool.
                </div>
              </form>
            </div>
          </div>
        </section>
      </main>

      <footer class="footer">
        <div class="footer-inner">
          <span class="footer-model">model: --</span>
          <span class="footer-tokens">tokens: --</span>
          <span class="footer-cost">cost: --</span>
          <span class="footer-status">status: idle</span>
          <span class="footer-ext-status"></span>
        </div>
      </footer>
    </div>
  </body>
</html>
